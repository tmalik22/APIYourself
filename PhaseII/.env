# APIYourself Production Environment Configuration
# Copy this to .env.production for real deployment

# === PRODUCTION ENVIRONMENT ===
NODE_ENV=production
PORT=${PORT:-3001}

# === DOMAIN CONFIGURATION ===
# Replace with your actual domain
PRODUCTION_DOMAIN=localhost
FRONTEND_URL=https://${PRODUCTION_DOMAIN}
BACKEND_URL=https://api.${PRODUCTION_DOMAIN}
CORS_ORIGIN=https://${PRODUCTION_DOMAIN}

# === FRONTEND CONFIGURATION ===
VITE_API_URL=https://api.${PRODUCTION_DOMAIN}
VITE_NODE_ENV=production
VITE_APP_NAME=APIYourself
VITE_APP_VERSION=1.0.0

# === DATABASE CONFIGURATION ===
# Production PostgreSQL (required for real deployment)
DATABASE_URL=postgresql://username:password@host:5432/database_name
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20

# Alternative: Use Supabase for easy PostgreSQL hosting
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your-anon-key
# SUPABASE_SERVICE_KEY=your-service-key

# === SECURITY ===
JWT_SECRET=${JWT_SECRET:-$(openssl rand -hex 64)}
ENCRYPTION_KEY=${ENCRYPTION_KEY:-$(openssl rand -hex 32)}
SESSION_SECRET=${SESSION_SECRET:-$(openssl rand -hex 64)}

# === LLM CONFIGURATION ===
# DeepSeek (recommended for production)
VITE_LLM_API_KEY=${DEEPSEEK_API_KEY}
VITE_LLM_API_ENDPOINT=https://api.deepseek.com/v1/chat/completions
VITE_LLM_DEFAULT_MODEL=deepseek-chat

# OpenAI (alternative)
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_DEFAULT_MODEL=gpt-4
OPENAI_TEMPERATURE=0.1
OPENAI_MAX_TOKENS=4000

# LLM Security (non-overridable)
VITE_LLM_SECURITY_ENABLED=true
VITE_LLM_RATE_LIMIT_ENABLED=true
LLM_RATE_LIMIT_PER_MINUTE=30
LLM_RATE_LIMIT_PER_HOUR=500

# === MONITORING & OBSERVABILITY ===
# Sentry for error tracking
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log management
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_ACCESS_LOGS=true
ENABLE_ERROR_TRACKING=true

# === EMAIL CONFIGURATION ===
# Required for user notifications
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
FROM_EMAIL=noreply@${PRODUCTION_DOMAIN}

# SendGrid alternative
# SENDGRID_API_KEY=${SENDGRID_API_KEY}
# SENDGRID_FROM_EMAIL=noreply@${PRODUCTION_DOMAIN}

# === FILE STORAGE ===
# AWS S3 for file uploads
AWS_REGION=${AWS_REGION:-us-east-1}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_S3_BUCKET=${AWS_S3_BUCKET}

# === AUTHENTICATION PROVIDERS ===
# Google OAuth
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}
GOOGLE_CALLBACK_URL=https://api.${PRODUCTION_DOMAIN}/auth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=${GITHUB_CLIENT_ID}
GITHUB_CLIENT_SECRET=${GITHUB_CLIENT_SECRET}
GITHUB_CALLBACK_URL=https://api.${PRODUCTION_DOMAIN}/auth/github/callback

# === PAYMENT PROCESSING ===
# Stripe for billing (if implementing paid features)
STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}

# === EXTERNAL API INTEGRATIONS ===
# Real API connections for generated projects
SLACK_CLIENT_ID=${SLACK_CLIENT_ID}
SLACK_CLIENT_SECRET=${SLACK_CLIENT_SECRET}

MICROSOFT_CLIENT_ID=${MICROSOFT_CLIENT_ID}
MICROSOFT_CLIENT_SECRET=${MICROSOFT_CLIENT_SECRET}

HUBSPOT_CLIENT_ID=${HUBSPOT_CLIENT_ID}
HUBSPOT_CLIENT_SECRET=${HUBSPOT_CLIENT_SECRET}

# === CDN & CACHING ===
# CloudFlare or similar
CDN_URL=https://cdn.${PRODUCTION_DOMAIN}
CACHE_TTL=3600
ENABLE_COMPRESSION=true

# === RATE LIMITING ===
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# === PERFORMANCE ===
CLUSTER_WORKERS=${CLUSTER_WORKERS:-auto}
ENABLE_CLUSTER=true
MEMORY_LIMIT=512mb
CPU_LIMIT=1.0

# === BACKUP & DISASTER RECOVERY ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE=s3

# === COMPLIANCE ===
GDPR_ENABLED=true
HIPAA_ENABLED=false
SOC2_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555

# === FEATURE FLAGS ===
ENABLE_USER_REGISTRATION=true
ENABLE_API_GENERATION=true
ENABLE_LLM_FEATURES=true
ENABLE_CODE_DOWNLOAD=true
ENABLE_TEAM_FEATURES=false
ENABLE_BILLING=false

# === DEPLOYMENT PLATFORM SPECIFIC ===

# Vercel deployment
VERCEL_ENV=production
VERCEL_URL=${VERCEL_URL}

# Railway deployment
RAILWAY_ENVIRONMENT=production
RAILWAY_PROJECT_ID=${RAILWAY_PROJECT_ID}

# Heroku deployment
HEROKU_APP_NAME=${HEROKU_APP_NAME}
HEROKU_DYNO_TYPE=web

# Docker deployment
DOCKER_REGISTRY=${DOCKER_REGISTRY}
DOCKER_IMAGE_TAG=${DOCKER_IMAGE_TAG:-latest}

# AWS deployment
AWS_LAMBDA_FUNCTION_NAME=${AWS_LAMBDA_FUNCTION_NAME}
AWS_ECS_CLUSTER=${AWS_ECS_CLUSTER}
AWS_ECS_SERVICE=${AWS_ECS_SERVICE}
